### План автоматизации по дипломному проекту:

### **Перечень автоматизируемых сценариев**

#### **Позитивные сценарии**

**Основная задача:**
Тестирование покупки тура двумя способами:
* Оплата по дебетовой карте
* Выдача кредита по данным банковской карты

**Ожидаемый результат:**
При оплате тура картой со статусом APPROVED ,
появляется сообщение : "Успешно! Операция одобрена банком"
В базах данных - Mysql и postgresSQL должны появиться данные об
операции в таблицах:
* При оплате дебетовой картой - payment_entity и order_entity.
* При оплате в кредит - credit_request_entity и order_entity.

При оплате тура картой со статусом DECLINED,
появляется сообщение: "Ошибка! Банк отказал в проведении операции.".
В базе данных запись формируется только в таблице payment_entity.

**Варианты сценариев:**


I. Успешная оплата тура дебетовой картой

Перед всеми тестами на странице выбора способа оплаты тура
нажимаем кнопку "Купить"

1. Оплата тура картой со статусом APPROVED

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести номер месяца - 2 знака.
- В поле год ввести год - "21", "22" или "23"
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию латиницей
- В поле cvc/cvv ввести  3 числа
- Нажать кнопку "Продолжить"

2. Оплата тура картой со статусом DECLINED

-  В поле номер карты ввести номер карты со статусом DECLINED
- В поле месяц ввести номер месяца - 2 знака.
- В поле год ввести год - "21", "22" или "23"
- В поле "Владелец" с помощью библиотеки faker ввести русские
  имя и фамилию латиницей
- В поле cvc/cvv ввести  3 числа
- Нажать кнопку "Продолжить"

II. Успешная оплата тура с помощью кредита

Перед всеми тестами на странице выбора способа оплаты
тура нажимаем кнопку "Купить в кредит"

1. Оплата тура картой со статусом APPROVED

    - В поле номер карты ввести номер карты со статусом APPROVED
    - В поле месяц ввести номер месяца - 2 знака.
    - В поле год ввести год - "21", "22" или "23"
    - В поле "Владелец" с помощью библиотеки faker ввести русские имя
      и фамилию латиницей
    - В поле cvc/cvv ввести  3 числа
    - Нажимать кнопку "Продолжить"

2. Оплата тура картой со статусом DECLINED

    - В поле номер карты ввести номер карты со статусом DECLINED
    - В поле месяц  ввести номер месяца - 2 знака.
    - В поле год  ввести год - "21", "22" или "23"
    - В поле "Владелец" с помощью библиотеки faker ввести русские имя
      и фамилию латиницей
    - В поле cvc/cvv ввести  3 числа
    - Нажимать кнопку "Продолжить"

#### **Негативные сценарии (Sad Path)**

**Основная задача:**
Проверяем ввод невалидных данных в поля персональных данных заявки
на покупку тура.

**Ожидаемый результат:**
При вводе невалидных данных в поля с данными
карты возникают сообщения о неверном вводе, заявка не отправляется.
В базе данных записи не формируются.

**Перед началом тестирования на странице выбора способа оплаты:**

- Для проверки оплаты тура по дебетовой карте нажимаем кнопку "Купить"

- Для проверки оплаты тура с помощью кредита, нажимаем кнопку "Купить в кредит"

**Далее сценарии для обоих способов оплаты идентичны:**

1. Проверяем ввод невалидных данных во все поля карты.
   Ожидаемый результат:
   Внизу каждого поля возникает сообщение о неверном вводе данных.
   Данные не отправляются.

- В поле номер карты ввести - "123"
- В поле месяц - "0"
- В поле год - "0"
- В поле "Владелец" - " "
- В поле cvc/cvv - "8"
- Нажать кнопку "Продолжить"

2. Проверяем ввод истекшей даты. Остальные поля заполняем валидными данными.
   Ожидаемый результат: внизу поля для месяца возникает сообщение "Неверно указан срок действия карты",
   внизу поля года - сообщение "Истёк срок действия карты".

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести год - "21", "22" или "23"
- В поле год ввести номер месяца - 2 знака
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию латиницей
- В поле cvc/cvv ввести  3 числа
- Нажать кнопку "Продолжить"

3. Проверяем ввод года на несколько лет вперёд.
   Ожидаемый результат: внизу поля ввода года - сообщение
   "Неверно указан срок действия карты".
   Данные не отправляются. Запись в базу данных не формируются.

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести номер месяца - 2 знака
- В поле год ввести год - "42"
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию латиницей
- В поле cvc/cvv ввести  3 числа
- Нажать кнопку "Продолжить"

4. Проверить ввод в поле месяц прошедшего месяца.
   Ожидаемый результат: возникает сообщение "Неверно указан срок действия карты".
   Данные не отправляются.

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести номер месяца минус 1 месяц от текущей даты - 2 знака
- В поле год ввести год - "21", "22" или "23"
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию кириллицей
- В поле cvc/cvv ввести  3 числа
- Нажать кнопку "Продолжить"

5. Проверяем ввод имени владельца карты кириллицей.
   Остальные поля заполнить валидными данными.
   Ожидаемый результат: внизу поля для ввода имени возникает сообщение "Поле обязательно для заполнения".
   Данные на сервер не отправляются.

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц  ввести номер месяца - 2 знака
- В поле год  ввести год - "20", "21" или "22"
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию кириллицей
- В поле cvc/cvv ввести 3 числа
- Нажать кнопку "Продолжить"

6. Проверка отправки карты с незаполненными полями.
   Ожидаемый результат:
   Внизу полей "Номер карты", "Месяц", "Год", "CVC/CVV" возникает сообщение
   "Неверный формат".
   Внизу поля "Владелец" - сообщение "Поле обязательно для заполнения".

- Оставить все поля пустыми.
- Нажать кнопку "Продолжить"

7. Проверка ввода текста в поле для номера карты.
   Остальные данные валидные.
   Ожидаемый результат: невозможно ввести в поле для номера карты
   буквенные символы.

- Ввести в поле "Номер карты" текстовую строку.
- Ввести остальные данные невозможно, поскольку на этом этапе тест упадёт.
  Невозможно ввести буквы.

8. Проверка ввода случайных символов в поле "Владелец".
   Ожидаемый результат:
   Возникает сообщение "Неверно указан владелец карты". Данные не отправляются.

- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести номер месяца - 2 знака
- В поле год ввести год - "21", "22" или "23"
- В поле "Владелец" ввести "ghfbhjrvfh54bgf"
- В поле cvc/cvv ввести 3 числа
- Нажать кнопку "Продолжить"

9. Проверка ввода буквенных символов в поля ввода "Номер карты", "Месяц",
   "Год", "CVC/CVV".
   Ожидаемый результат: невозможно ввести буквенные символы в поля для ввода цифр.
   Данные не отправляются.

- В поле номер карты ввести имя,
  сформированное с помощью библиотеки faker.
- В поле месяц имя, сформированное с помощью библиотеки faker.
- В поле год ввести имя,
  сформированное с помощью библиотеки faker.
- В поле "Владелец" имя, сформированное с помощью библиотеки faker.
- В поле cvc/cvv ввести имя,
  сформированное с помощью библиотеки faker.
- Нажать кнопку "Продолжить"

10. Проверка ввода несуществующего номера карты
    Ожидаемый результат: После клика на кнопку "Продолжить" возникает сообщение
    "Ошибка! Банк отказал в проведении операции."

- В поле номер карты ввести номер карты "4444555566667777"
- В поле месяц ввести номер месяца - 2 знака
- В поле год ввести год - "20", "21" или "22"
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию латиницей
- В поле cvc/cvv ввести 3 числа
- Нажать кнопку "Продолжить"

11. Проверка ввода цифр в поле "Владелец".
    Ожидаемый результат:
    Возникает сообщение "Неверный формат". Данные не отправляются.

    - В поле номер карты ввести номер карты со статусом DECLINED
    - В поле месяц ввести номер месяца - 2 знака
    - В поле год ввести год - "21", "22" или "23"
    - В поле "Владелец" ввести 3 числа
    - В поле cvc/cvv ввести 3 числа
    - Нажать кнопку "Продолжить"

### **2. Перечень используемых инструментов с обоснованием выбора**

1. IDE: IntelliJ IDEA 2021.3.2 -Подходит для работы на Java. Поддерживает основные операционные системы.
1. Java: OpenJDK 11 - наиболее распространенная версия в настоящее время
1. Gradle — система управления зависимостями.
1. Docker - система контейнерезации. Позволит подключить базы данных MySQL и PostgresSQL.
1. Selenide - фреймворк для автоматизированного тестирования веб- приложений.
1. Faker - генерация случайных данных

### **3. Перечень и описание возможных рисков при автоматизации**
Риски связаны в основном с допуском ошибок из-за отсутствия достаточного опыта, как следствие увеличение сроков (поиск решения).

### **4. Интервальная оценка с учётом рисков (в часах)**
Подготовка и настройка рабочей области 24 часов
Написание тестов 16 часов
Отчетная работа 18 часов
### **5. План сдачи работы**
Написание тестов: 30.06.2023
Написание отчётов: 11.07.2023

